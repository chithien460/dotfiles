# This is macOS packages:
# - use NeoVim
# - use Homebrew

- defaults:
    link:
        create: true
        relink: true
        stdout: true
        stdin: true

- clean: ['~','~/.config','~/.ssh','~/.zsh']

#- create:
#    - ~/.local/share/nvim/site/autoload
#    - ~/downloads
#    - ~/.vim/undo-history

- link:
    #~/.tmux.conf: tmux.conf
    ~/.gitconfig: .gitconfig
    ~/.ssh/config: ssh/config
    ~/.zshrc: zsh/.macos.zshrc
    ~/.p10k.zsh: zsh/.p10k.zsh
    # ~/.local/share/nvim/site/autoload/plug.vim: nvim/autoload/vim-plug/plug.vim
    ~/.config/nvim/init.vim: c 
    ~/.zsh/powerlevel10k: zsh/powerlevel10k
    ~/.config/kitty: kitty
    
- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [sudo chsh -s $(which zsh), change shells]
    - [/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)", install homebrew]
    - [bash -c "cd mac && brew bundle", install homebrew formulas]
    - [bash -c "pip3 install -r pip/pip3-requirements.txt", install pip3 modules]
    - [bash -c "< npm/packages.txt xargs npm install -g", install npm packages]
    - [nvim +PlugInstall +qall, Installing NeoVim plugins with vim-plug]
